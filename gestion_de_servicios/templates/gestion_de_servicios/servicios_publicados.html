{% extends "homepage/base.html" %}

{% block content %}
<div class="container">
    <h2>Servicios Publicados</h2>
    <form class="mb-3" method="GET" action="{% url 'servicios_publicados' %}">
        <div class="row">
            <div class="col-md-6">
                <label for="nombre">Buscar por nombre:</label>
                <input type="text" id="nombre" name="nombre" class="form-control" placeholder="Nombre del servicio"
                    value="{{ request.GET.nombre|default_if_none:'' }}">
            </div>
            <div class="col-md-6">
                <label for="ciudad">Seleccionar ciudad:</label>
                <select id="ciudad" name="ciudad" class="form-control">
                    <option value="">Todas las ciudades</option>
                    {% for city in ciudades %}
                    <option value="{{ city }}">{{ city }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <button type="submit" class="btn btn-primary mt-2">Buscar</button>
    </form>

    {% for servicio in servicios %}
    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">{{ servicio.cliente }}</h5>
            <p class="card-text">{{ servicio.descripcion }}</p>
            <img src="{{ servicio.imagen.url }}" alt="{{ servicio.descripcion }}" class="img-fluid">
            <!-- Otros detalles del servicio -->
        </div>
    </div>
    <hr> <!-- LÃ­nea horizontal como separador -->
    {% endfor %}
</div>
{% endblock %}